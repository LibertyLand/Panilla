dependencies {
    compile project(':panilla-api')
    compile project(':panilla-craftbukkit-v1_13_R2')
    compileOnly 'com.destroystokyo.paper:paper:1.13.2'
}

buildscript {
    repositories {
        jcenter()
    }
    dependencies {
        classpath 'com.github.jengelman.gradle.plugins:shadow:1.2.3'
    }
}

processResources {
    from('src/main/resources') {
        include 'plugin.yml'
        expand(
                version: project.parent.version
        )
    }
}

apply plugin: 'com.github.johnrengelman.shadow'

shadowJar {
    dependencies {
        include(dependency(':panilla-api'))
        include(dependency(':panilla-craftbukkit-v1_13_R2'))
    }
    archiveName = "Panilla.jar"
    destinationDir = file '../target/craftbukkit'
}

build.dependsOn(shadowJar)
